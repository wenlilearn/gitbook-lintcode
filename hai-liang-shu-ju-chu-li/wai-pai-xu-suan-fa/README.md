# 外排序算法

### 什么是外排序算法?

* 外排序算法指的是当内存不足的情况下, 如何对一个或者多个大文件进行排序的算法

### 具体怎么外排序?

* 外排序分为三个步骤:
  1. 把文件分成小块
  2. 把分成小块的文件分别进行排序
  3. 然后再进行k路归并
* 下面具体来讲解每一个步骤:
  1. 把文件分成n分, 其中份数大概等于文件大小/内存大小
  2. 然后我们建立一个heap, 先把n个小文件中的每一项都放入heap里面, 然后吧最小的那个放入输出文件里面, 之后移动文件指针指向下一个,直到所有文件都被处理完毕为止
  3. 一个一个的从文件读, 然后每次都去找下一个可能太慢了, 优化的办法是如果内存还有空余的话, 就把东西都放到内存的buffer里面, 然后就从buffer里面读, 如果buffer里面的东西用完了, 就从文件批量读取即可



